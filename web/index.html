<!DOCTYPE html>
<html>
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="icon" type="image/png" href="image/favicon.png" sizes="42x42">

    <!-- Scatter js -->
    <script src="https://cdn.jsdelivr.net/npm/eosjs@16.0.9/lib/eos.min.js"></script>
    <script src="js/bundles/scatterjs-core.min.js"></script>
    <script src="js/bundles/scatterjs-plugin-eosjs.min.js"></script>
    <script src="js/bundles/scatterjs-plugin-lynx.min.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <!-- Jquery, jsdeliver & bootstrapJs -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</head>



<body>
    <!--EXO Token | MINER-->

    <div class="container-fluid rounded bg-dark shadow">
        <br>
        <h1 class="row justify-content-center text-white">EXO<img src="https://www.exomine.co/____impro/1/onewebmedia/flc_design2022121691998%20%281%29.png" style="width: 50px; height: 50px;">DEX</h1>
        <h4 id='accountname' class="text-center text-white">Login first...</h4>
        <br>
        <div class="container" style="max-width: 576px">
            <button type="button" class="btn btn-primary btn-lg btn-block" id='buttontext' onclick='loginclick()'>LOGIN</button>
        </div>
        <br>
    </div>
    <!-- end of "header"-->

    <!--this container basically contains the rest of the dapp, the rest of the containers and rows fit inside this one-->
    <div class="container" style="max-width: 576px">

        <!-- vanishing button to initialize EXO for trading and mining -->
    <div class="d-flex mt-1 mb-1 justify-content-center">
        <button type="button" id='doinit' class='btn btn-block btn-outline-success btn-sm' onclick='doinit()'>Click Here to Initialize EXO for Mining </button>
    </div>
    <!-- end of vanishing button to initialize SVX for trading and mining -->


        <!--EXO Balance Display directly beneath "header"-->
        <div class="row row-cols-2">
            <h6 class='col text-center'>
                EXO Balance
                <div id='exo_balance'>...</div>
            </h6>
        </div>
        <br>
        <!-- end of Balance Display -->


        <!--This is the div / row set with the CPU and NET and EXO Node circles for user experience and feedback-->
        <div class="row">
            <div class="col">
                <svg viewbox="0, 0, 400, 400">
                    <circle id='kreis' cx="200" cy="200" r="120" stroke="#eeeeee" stroke-width="30" fill="#ffffff" />
                    <path id='mycpu' d="" fill="none" stroke="#55ff55" stroke-width="30"   stroke-linecap="round"  />
                    <text id='mycpu_text' x='200' y='190' text-anchor="middle" font-size='70'>0%</text>
                    <text id='mycpu_text' x='200' y='260' text-anchor="middle" font-size='70'>CPU</text>
                </svg>
            </div>

            <div class="col">
                <svg viewbox="0, 0, 400, 400">
                    <circle id='kreis' cx="200" cy="200" r="120" stroke="#eeeeee" stroke-width="30" fill="#ffffff" />
                    <path id='mynode' d="" fill="none" stroke="#55ff55" stroke-width="30"   stroke-linecap="round"  />
                    <text id='mynode_text' x='200' y='188' text-anchor="middle" font-size='65'>EXO</text>
                    <text id='mynode_text' x='200' y='252' text-anchor="middle" font-size='65'>NODE</text>
                </svg>
            </div>

            <div class="col">
                <svg viewbox="0, 0, 400, 400">
                    <circle id='kreis' cx="200" cy="200" r="120" stroke="#eeeeee" stroke-width="30" fill="#ffffff" />
                    <path id='mynet' d="" fill="none" stroke="#55ff55" stroke-width="30"   stroke-linecap="round"  />
                    <text id='mynet_text' x='200' y='190' text-anchor="middle" font-size='70'>0%</text>
                    <text id='mynet_text' x='200' y='260' text-anchor="middle" font-size='70'>NET</text>
                </svg>
            </div>
        </div>
        <!-- end of CPU and NET circles -->
        <br>



        <nav>
            <div class="nav nav-pills nav-justified" id="nav-tab" role="tablist">
                <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-LIQUIDITY" role="tab" aria-controls="nav-LIQUIDITY" aria-selected="true">ADD LIQUIDITY</a>
                <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-TRADER" role="tab" aria-controls="nav-TRADER" aria-selected="false">TRADE</a>
                <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-MINER" role="tab" aria-controls="nav-MINER" aria-selected="false">MINE</a>
            </div>
        </nav>


        <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-LIQUIDITY" role="tabpanel" aria-labelledby="nav-LIQUIDITY-tab">
        <br>

          <!-- EXO Node Requirement Information -->
        <h6 id='nodeRequirement' class="text-center">...</h6>
        <!-- End of EXO Node Requirement Information -->


        <!--another container inside the initial one, this is for deposit and withdraw EXO liquidity-->
        <div class="container border border-primary rounded bg-dark shadow">
            <div class="row row-cols-2 mb-1">
                <p class="col text-center text-white">
                    &nbsp;EXO Liquidity
                        <br>
                <input class="text-center form-control border-0" type='text' id='exo_liquidity_balance' readonly="readonly" value=''>
                </p>
                <p class="col text-center text-white">
                    &nbsp;Withdraw EXO Liquidity
                        <br>
                    <input class="text-center form-control border-0" type='text' id='svx_withdraw_liquidity_balance' readonly="readonly" value=''>
                    <small id='exo_withdraw_liquidity_time'></small>
                </p>
            </div>

            <div class="row row-cols-2">
                <div class="col text-center">
                    <input class="text-center form-control mb-1" type='number' min="0" step="1" id='exo_to_add_liquidity'>
                    <button class="btn btn-primary btn-lg btn-block shadow" id='addliquiditybutton' onclick='exo_to_add_liquidity_action()'>Add Liquidity </button>
                </div>
                <div class="col text-center">
                    <input class="text-center form-control mb-1" type='number' min="0" step="1" id='exo_to_withdraw_liquidity'>
                    <button class="btn btn-primary btn-lg btn-block shadow" id='addliquiditybutton' onclick='exo_to_withdraw_liquidity_action()'>Withdraw Liquidity </button>
                </div>
            </div>

            <div class="text-center text-white">
                <small> &nbsp;Add liquidity to EXO / WAX pool on Alcor Swap to can start EXO mining.</small>
            </div>
        </div>  <!--end of staking / unstaking container-->
    </div>

        <div class="tab-pane fade" id="nav-TRADER" role="tabpanel" aria-labelledby="nav-TRADER-tab">
        <br>

             <!--this cointains the trading box and all it's info-->
        <div class="container border border-primary rounded bg-dark shadow">
        <br>
            <nav>
                <div class="nav nav-pills nav-justified" id="nav-tab" role="tablist">
                    <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-EXOWAX" role="tab" aria-controls="nav-EXOWAX" aria-selected="true">EXO | WAX</a>
                </div>
            </nav>
            <br>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-EXOWAX" role="tabpanel" aria-labellenav-EXOWAX-tab">

                    <h6 class="text-center text-white">EXO / WAX Trading Balance</h6>
                    <row class="d-flex justify-content-around">
                        <small id="WAXBALANCE" class="col text-center text-light">...</small>
                        <small id= "balance2" class="col text-light text-center">...</small>
                    </row>
                </div>
                <div class="text-center text-warning">
                    <small> &nbsp;Small orders incur less slippage than large orders</small>
                </div>
                <br>
            </div>
            <!--end of trading box-->
        </div>

        <div class="tab-pane fade" id="nav-MINER" role="tabpanel" aria-labelledby="nav-MINER-tab">

        <br>
        <h6 id='mining_hint' class="text-center">...</h6>
         <nav>
            <div class="nav nav-pills nav-justified" id="nav-tab" role="tablist">
                <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-FREE-CPU-MINER" role="tab" aria-controls="nav-FREE-CPU-MINER" aria-selected="true">FREE CPU MINER</a>
                <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-SELF-CPU-MINER" role="tab" aria-controls="nav-SELF-CPU-MINER" aria-selected="false">SELF CPU MINER</a>
            </div>
        </nav>
        <br>
        <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-FREE-CPU-MINER" role="tabpanel" aria-labelledby="nav-FREE-CPU-MINER-tab">
        <h6 id='cpu_bonus' class="text-center">BONUS: 10 Free CPU mines per 24h.</h6>

        <!-- detailed miner information box -->
        <div class="container bg-dark border border-primary rounded shadow">
            <p id='svxMiningRate' class="text-center text-white mt-3">...</p>
            <p id='totalSVXMiningRate' class="text-center text-white">...</p>
            <p id='svxMiningBurn' class="text-center text-white">...</p>
        </div>
        <!-- end of detailed miner information box -->
        <br>

        <div class="row">
            <div class="custom-control custom-checkbox m-4">
                <input type='checkbox' class="custom-control-input" id='checkbox' onclick='switch_autominer(this)'>
                <label class="custom-control-label" for='checkbox' style='font-size:16px;'>Auto Free CPU - EXO Miner</label>
            </div>

        <button type="button" class="btn btn-primary btn-block border border-dark col m-3 shadow" id='dotransaction_bundle' onclick='dotransaction_bundle()'>Free CPU - EXO Mine x1</button>
        </div>

        <div class="slidecontainer" style='width:100%;'>
            <input type="range" min="1" max="200" step="1.0" class="slider" value='1' id="myRange" oninput="showVal(this.value)" onchange="showVal(this.value)">
        </div>

          <!--this is the little blocks that update by consecutively turning black one at a time when you are mining so that the user understands it is working-->
        <div style='width:100%;margin-left:0;margin-right:0;margin-top:10px;height:25px;border:none;'>
            <svg viewbox="0, 0, 400, 10">
                <rect id='rect1'  x="0" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect2'  x="40" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect3'  x="80" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect4'  x="120" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect5'  x="160" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect6'  x="200" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect7'  x="240" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect8'  x="280" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect9'  x="320" y="0" width="38" height="10" fill='#cccccc' />
                <rect id='rect10' x="360" y="0" width="38" height="10" fill='#cccccc' />
            </svg>
        </div>
    </div>
        <!-- end of little blocks for miner feedback -->


        <!-- end ofminer / autominer inputs and info-->

        <div class="tab-pane fade" id="nav-SELF-CPU-MINER" role="tabpanel" aria-labelledby="nav-SELF-CPU-MINER-tab">

        <div class="text-center">
        <small id="EXOCPUBALANCE" class="col text-center">...</small>
        </div>

         <div class="row">
            <div class="custom-control custom-checkbox m-4">
                <input type='checkbox' class="custom-control-input" id='checkbox-1' onclick='switch_cpu_autominer(this)'>
                <label class="custom-control-label" for='checkbox-1' style='font-size:16px;'>Auto Self CPU - EXO Miner</label>
            </div>

        <button type="button" class="btn btn-info btn-block border border-dark col m-3 shadow" id='do_cpu_transaction_bundle' onclick='do_cpu_transaction_bundle()'>Self CPU - EXO Mine x1</button>
        </div>

        <div class="cpuslidecontainer" style='width:100%;'>
            <input type="range" min="1" max="10" step="1" class="cpuslider" value='1' id="myCPURange" oninput="showValCPU(this.value)" onchange="showValCPU(this.value)">
        </div>

         <div class="text-center">
            <small>Self CPU - EXO mining actions x30</small>
        </div>
    </div>
</div>
</div>
</div>
<br>

<!-- resources dropdown / input to purchase EOS resources with SOV -->

<h6 id='resourcesInfo' class="text-center">...</h6>

        <div class="container bg-dark border border-primary rounded shadow">
            <br>
            <div class="input-group">
                <input type="number" placeholder="Enter WAX Amount" min="1" class="form-control" aria-label="Number input with dropdown button" id="waxresourcesInput">
                <div class="dropup input-group-prepend">
                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</button>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" onclick="rentCPUWAX()">Rent CPU</a>
                        <a class="dropdown-item" onclick="rentNETWAX()">Rent NET</a>
                        <a class="dropdown-item" onclick="buyRAMWAX()">Buy RAM</a>
                        <a class="dropdown-item">Cancel</a>
                    </div>
                </div>
            </div>
            <br>
        </div>
        <br>
        <!-- end of resources feature -->

    <!--node changing button / input area-->
    <div class="input-group mb-2 shadow">
        <div class="input-group-prepend">
            <button id='nodebutton' class='btn btn-primary' type="button" onclick='change_node_click()'>Change Node</button>
        </div>
        <input id='scatter_host' class="text-center form-control" type='text' aria-describedby="basic-addon1" value=''>
    </div>
    <br>
    <!-- end of node changing button / input area -->
</div> <!--closes the main container-->

<script>
    var init_node = "eos.greymass.com";
    document.getElementById('scatter_host').value = init_node;
</script>

<script type="text/javascript" src="js/main.js"></script>
</body>
</html>
